<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact – McBays</title>
  <meta name="description" content="Contact McBays for commercial IT & networking projects." />
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="icon" type="image/png" sizes="32x32" href="assets/img/mcbays-favicon-32-transparent.png">
  <link rel="icon" type="image/png" sizes="192x192" href="assets/img/mcbays-favicon-192-transparent.png">
  <link rel="icon" type="image/png" sizes="512x512" href="assets/img/mcbays-favicon-512-transparent.png">
  <link rel="apple-touch-icon" href="assets/img/mcbays-favicon-512-transparent.png">
</head>
<body>
  <header>
    <div class="container nav">
      <a class="brand" href="index.html">
        <img class="logo-img" src="assets/img/mcbays-logo.png" alt="McBays logo" />
        <span class="brand-name">McBays</span>
      </a>
      <nav>
        <a href="/services.html">Services</a>
        <a href="/about.html">About</a>
        <a class="active" href="/contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="section">
      <h2>Contact</h2>
      <p class="lead">Tell us about your site. We’ll reply with next steps and a no-surprises estimate.</p>

      <div class="card">
        <form id="contact-form" action="https://mcbays-contact.mcbays.workers.dev" method="POST" novalidate>
          <input type="text" name="name" placeholder="Your name" autocomplete="name" required />
          <input type="email" name="email" placeholder="Email" autocomplete="email" inputmode="email" required />
          <input type="text" name="company" placeholder="Company (optional)" autocomplete="organization" />
          <!-- Honeypot (leave hidden) -->
          <input type="text" name="website" tabindex="-1" autocomplete="off" style="display:none" />
          <textarea name="message" placeholder="Project details (location, scope, timeline)" rows="6" required></textarea>
          <button class="button primary" type="submit">Send</button>
          <p id="form-status" style="color: var(--muted); margin-top: 10px;"></p>

          <noscript>
            <p style="margin-top:10px">
              JavaScript is required to submit this form. Email us instead:
              <a href="mailto:hello@mcbays.com">hello@mcbays.com</a>
            </p>
          </noscript>
        </form>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <small>© <span id="y"></span> McBays LLC · IT & Network Infrastructure · California</small>
    </div>
  </footer>

  <script>
    // Footer year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Form handler (talks to your Cloudflare Worker)
    (function () {
      const form = document.getElementById('contact-form');
      const status = document.getElementById('form-status');
      if (!form) return;

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        status.textContent = 'Sending…';
        const btn = form.querySelector('button[type="submit"]');
        btn.disabled = true;

        try {
          const res = await fetch(form.action, {
            method: 'POST',
            body: new FormData(form)
          });

          let data = {};
          try { data = await res.json(); } catch (_) {}

          if (res.ok && data && (data.ok === true || data.status === 'ok')) {
            status.textContent = 'Thanks! We’ll get back to you shortly.';
            form.reset();
          } else {
            status.textContent = 'Could not send. Please email us at hello@mcbays.com.';
          }
        } catch (err) {
          status.textContent = 'Network error. Please email us at hello@mcbays.com.';
        } finally {
          btn.disabled = false;
        }
      });
    })();
  </script>
</body>
</html>
